<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ä¿®å¤ Vercel/Github Actions éƒ¨ç½² hexo å¯¼è‡´æ–‡ç« çš„æ›´æ–°æ—¶é—´é”™è¯¯ | Ai-China</title><meta name="author" content="AI-China"><meta name="copyright" content="AI-China"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="git åœ¨æ¨é€æ›´æ–°çš„æ—¶å€™ä¸ä¼šä¿å­˜æ–‡ä»¶çš„è®¿é—®æ—¶é—´ã€ä¿®æ”¹æ—¶é—´ç­‰å…ƒä¿¡æ¯ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="ä¿®å¤ Vercel&#x2F;Github Actions éƒ¨ç½² hexo å¯¼è‡´æ–‡ç« çš„æ›´æ–°æ—¶é—´é”™è¯¯">
<meta property="og:url" content="https://www.ai-china.xyz/posts/c6d9de72.html">
<meta property="og:site_name" content="Ai-China">
<meta property="og:description" content="git åœ¨æ¨é€æ›´æ–°çš„æ—¶å€™ä¸ä¼šä¿å­˜æ–‡ä»¶çš„è®¿é—®æ—¶é—´ã€ä¿®æ”¹æ—¶é—´ç­‰å…ƒä¿¡æ¯ã€‚">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240111104821876.png">
<meta property="article:published_time" content="2024-01-11T10:40:41.000Z">
<meta property="article:modified_time" content="2024-01-29T15:03:09.000Z">
<meta property="article:author" content="AI-China">
<meta property="article:tag" content="IT-issues">
<meta property="article:tag" content="hexo">
<meta property="article:tag" content="Vercel">
<meta property="article:tag" content="github actions">
<meta property="article:tag" content="timestamp">
<meta property="article:tag" content="update time">
<meta property="article:tag" content="git">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240111104821876.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.ai-china.xyz/posts/c6d9de72.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//static.cloudflareinsights.com"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?403c92d1560db157c2d1a5a30189814d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-EEZG901XK6"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-EEZG901XK6');
</script><script defer="defer" data-pjax="data-pjax" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;112faaeb32a149e7acdef445d2cad2f1&quot;}"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"6M6J2GXVQ8","apiKey":"db1b88d08993baff4226621c59aedfbf","indexName":"ai-china.xyz","hits":{"per_page":6},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":-1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ä¿®å¤ Vercel/Github Actions éƒ¨ç½² hexo å¯¼è‡´æ–‡ç« çš„æ›´æ–°æ—¶é—´é”™è¯¯',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-29 15:03:09'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/self/custom.css"><script src="/assets/algolia/algoliasearchLite.min.js" async></script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">202</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">343</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-file-alt"></i><span> Articles</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-exchange-alt"></i><span> Cultural &amp; Economic Exchange</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/ancient-china/"><i class="fa-fw fas fa-yin-yang"></i><span> Ancient China</span></a></li><li><a class="site-page child" href="/modern-china/"><i class="fa-fw fas fa-star"></i><span> Modern China</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-globe"></i><span> Trades &amp; Ads</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/trades-china/"><i class="fa-fw fas fa-road-bridge"></i><span> Trades</span></a></li><li><a class="site-page child" href="/ads-china/"><i class="fa-fw fas fa-volume-high"></i><span> Ads</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> Learning</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/IT-issues/"><i class="fa-fw fas fa-clipboard-question"></i><span> IT issues</span></a></li><li><a class="site-page child" href="/high-school/"><i class="fa-fw fa-brands fa-google-scholar"></i><span> High-school</span></a></li><li><a class="site-page child" href="/languages/"><i class="fa-fw fas fa-language"></i><span> Languages</span></a></li><li><a class="site-page child" href="/programming/"><i class="fa-fw fas fa-robot"></i><span> Programming</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heart-pulse"></i><span> Health</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/depression/"><i class="fa-fw fas fa-person-drowning"></i><span> Depression</span></a></li><li><a class="site-page child" href="/emotion-management/"><i class="fa-fw fas fa-face-angry"></i><span> Emotion Management</span></a></li><li><a class="site-page child" href="/relationship/"><i class="fa-fw fas fa-hands-praying"></i><span> Relationship</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240111104821876.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Ai-China"><span class="site-name">Ai-China</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-file-alt"></i><span> Articles</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-exchange-alt"></i><span> Cultural &amp; Economic Exchange</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/ancient-china/"><i class="fa-fw fas fa-yin-yang"></i><span> Ancient China</span></a></li><li><a class="site-page child" href="/modern-china/"><i class="fa-fw fas fa-star"></i><span> Modern China</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-globe"></i><span> Trades &amp; Ads</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/trades-china/"><i class="fa-fw fas fa-road-bridge"></i><span> Trades</span></a></li><li><a class="site-page child" href="/ads-china/"><i class="fa-fw fas fa-volume-high"></i><span> Ads</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-graduation-cap"></i><span> Learning</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/IT-issues/"><i class="fa-fw fas fa-clipboard-question"></i><span> IT issues</span></a></li><li><a class="site-page child" href="/high-school/"><i class="fa-fw fa-brands fa-google-scholar"></i><span> High-school</span></a></li><li><a class="site-page child" href="/languages/"><i class="fa-fw fas fa-language"></i><span> Languages</span></a></li><li><a class="site-page child" href="/programming/"><i class="fa-fw fas fa-robot"></i><span> Programming</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-heart-pulse"></i><span> Health</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/depression/"><i class="fa-fw fas fa-person-drowning"></i><span> Depression</span></a></li><li><a class="site-page child" href="/emotion-management/"><i class="fa-fw fas fa-face-angry"></i><span> Emotion Management</span></a></li><li><a class="site-page child" href="/relationship/"><i class="fa-fw fas fa-hands-praying"></i><span> Relationship</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ä¿®å¤ Vercel/Github Actions éƒ¨ç½² hexo å¯¼è‡´æ–‡ç« çš„æ›´æ–°æ—¶é—´é”™è¯¯</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2024-01-11T10:40:41.000Z" title="å‘è¡¨äº 2024-01-11 10:40:41">2024-01-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2024-01-29T15:03:09.000Z" title="æ›´æ–°äº 2024-01-29 15:03:09">2024-01-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/IT%E5%B8%B8%E8%A7%81%E7%96%91%E9%9A%BE/">ITå¸¸è§ç–‘éš¾</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">2.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>11åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="ä¿®å¤ Vercel/Github Actions éƒ¨ç½² hexo å¯¼è‡´æ–‡ç« çš„æ›´æ–°æ—¶é—´é”™è¯¯"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" data-lang="zh-CN"><p>æœ¬æ–‡è½¬è½½è‡ªï¼š<a target="_blank" rel="noopener" href="https://blog.im0o.cn/posts/c6d9de72.html">https://blog.im0o.cn/posts/c6d9de72.html</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240111104821876.png" alt="image-20240111104821876"></p>
<p>åœ¨ä½¿ç”¨ <code>Vercel</code> æˆ– <code>Github Actions</code> è‡ªåŠ¨åŒ–éƒ¨ç½² hexo åšå®¢æ—¶ä¼šå‘ç°æ‰€æœ‰æ–‡ç« çš„æ›´æ–°æ—¶é—´éƒ½å˜æˆäº†æ­¤æ¬¡æäº¤ä¿®æ”¹çš„æ—¶é—´ï¼Œä½†å®é™…ä¸Šè¿™äº›æ–‡ç« æ˜¯æ²¡æœ‰ä»»ä½•ä¿®æ”¹çš„ã€‚</p>
<p>è¿™æ˜¯å› ä¸º <code>git</code> åœ¨æ¨é€æ›´æ–°çš„æ—¶å€™ä¸ä¼šä¿å­˜æ–‡ä»¶çš„è®¿é—®æ—¶é—´ã€ä¿®æ”¹æ—¶é—´ç­‰å…ƒä¿¡æ¯ã€‚</p>
<details class="toggle" ><summary class="toggle-button" style="">Git SCM Wiki ä¸­çš„è§£é‡Š</summary><div class="toggle-content"><p>Why isnâ€™t Git preserving modification time on files?</p>
<p>Modification time on files is a feature that affects build tools. Most build tools compare the timestamp of the source(s) with the timestamp of the derived file(s). If the source is newer, then a rebuild takes place, otherwise nothing happens. This speeds up the build process a lot.</p>
<p>â€¦</p>
<p>Git sets the current time as the timestamp on every file it modifies, but only those. The other files are left untouched, which means build tools will be able to depend on modification time and rebuild properly. If build rules change, that can cause a failure anyway, but that is a far less common problem than accidentally not rebuilding.</p>
<p>From: <a target="_blank" rel="noopener" href="https://git.wiki.kernel.org/index.php/Git_FAQ#Why_isn.27t_Git_preserving_modification_time_on_files.3F">Why isnâ€™t Git preserving modification time on files?</a></p>
</div></details>
<p>æ‰€ä»¥æ¯æ¬¡ä½¿ç”¨ <code>git clone</code> ä¸‹è½½çš„é¡¹ç›®çš„æ–‡ä»¶å…ƒæ•°æ®éƒ½æ˜¯å½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œè€Œä¸æ˜¯é¡¹ç›®çš„åˆ›å»ºæ—¶é—´ã€‚</p>
<p>åœ¨ <code>Hexo</code> ä¸­çš„æ–‡ç« é»˜è®¤æ˜¯é€šè¿‡ä½¿ç”¨ <strong>æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´</strong> ä½œä¸ºæ–‡ç« çš„æ›´æ–°æ—¶é—´ï¼Œåªæœ‰åœ¨ <code>font-matter</code> ä¸­æŒ‡å®šäº† <code>updated</code> æ‰ä¼šä½¿ç”¨ <code>updated</code> çš„å€¼ä½œä¸ºæ–‡ç« çš„æ›´æ–°æ—¶é—´ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç° CI æ„å»ºåæ‰€æœ‰æ–‡ç« çš„æ›´æ–°æ—¶é—´éƒ½å˜æˆäº†æ­¤æ¬¡æ„å»ºçš„æ—¶é—´ï¼Œå› ä¸ºæ¨é€ä¸Šå»çš„æ–‡ä»¶çš„å…ƒä¿¡æ¯ä¸ä¼šä¿å­˜ã€‚</p>
<h1>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ updated å±æ€§</h1>
<p>åœ¨æ‰€æœ‰æ–‡ç« çš„ <code>front-matter</code> ä¸­æ·»åŠ  <code>updated: æ›´æ–°æ—¶é—´</code> é¡¹</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">article</span> <span class="string">title</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2023-01-01 00:00:00</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ  updated: æ›´æ–°æ—¶é—´</span></span><br><span class="line"><span class="attr">updated:</span> <span class="number">2023-01-01 00:00:00</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/202302120252189.png" alt=""></p>
<p><a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/front-matter">hexo.io - Front Matter</a></p>
<p>ä»¥åéœ€è¦ä¿®æ”¹æ–‡ä»¶çš„æ›´æ–°æ—¶é—´æ—¶ï¼Œåªéœ€è¦ä¿®æ”¹ <code>updated</code> çš„å€¼å³å¯ï¼Œä½†æ˜¯è¿™æ ·åšçš„è¯å°±éœ€è¦æ‰‹åŠ¨ç»´æŠ¤æ‰€æœ‰æ–‡ç« çš„æ›´æ–°æ—¶é—´ï¼Œä¸å¤ªæ–¹ä¾¿ã€‚</p>
<h2 id="ä½¿ç”¨-PowerShell-è„šæœ¬è‡ªåŠ¨æ›´æ–°æ‰€æœ‰æ–‡ç« çš„-updated-å±æ€§">ä½¿ç”¨ PowerShell è„šæœ¬è‡ªåŠ¨æ›´æ–°æ‰€æœ‰æ–‡ç« çš„ updated å±æ€§</h2>
<p>åœ¨ <a target="_blank" rel="noopener" href="https://moeci.com/">@yiyun</a> çš„åšå®¢ä¸­ï¼Œä»–ä½¿ç”¨äº†ä¸€ä¸ª PowerShell è„šæœ¬æ¥è‡ªåŠ¨æ›´æ–°æ‰€æœ‰æ–‡ç« çš„ <code>updated</code> å±æ€§ã€‚</p>
<p>åœ¨ Hexo åšå®¢æ ¹ç›®å½•ä¸­åˆ›å»º <code>update.ps1</code> æ–‡ä»¶</p>
<details class="toggle" ><summary class="toggle-button" style="">update.ps1</summary><div class="toggle-content"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">$fileEncoding = &quot;UTF8&quot;;</span><br><span class="line"></span><br><span class="line">Function Convert-FromUnixDate ($UnixDate) &#123;</span><br><span class="line">    [timezone]::CurrentTimeZone.ToLocalTime(([datetime]&#x27;1/1/1970&#x27;).AddSeconds($UnixDate))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$fileNum = 0;</span><br><span class="line">Get-ChildItem -Path &quot;./source/_posts&quot; -recurse *.md | ForEach-Object -Process&#123;</span><br><span class="line">    $fileNum = $fileNum + 1;</span><br><span class="line">    if ($_ -is [System.IO.FileInfo]) &#123;</span><br><span class="line"></span><br><span class="line">        $filePath = $_.FullName;</span><br><span class="line">        Write-Host(&#x27;&#123;0&#125;. &#123;1&#125;&#x27; -f $fileNum, $filePath);</span><br><span class="line"></span><br><span class="line">        $lineNum = 0; # yaml æ ¼å¼å æ®è¡Œæ•°</span><br><span class="line">        $yamlStartEndNum = 0;</span><br><span class="line">        $existUpdated = $false;</span><br><span class="line">        $updatedNum = 0;</span><br><span class="line">        $newstreamreader = New-Object System.IO.StreamReader($filePath);</span><br><span class="line">        while (($readeachline = $newstreamreader.ReadLine()) -ne $null) &#123;</span><br><span class="line">            $lineNum = $lineNum + 1;</span><br><span class="line">            $temp = $readeachline -replace &quot; &quot;,&quot;&quot; -replace &quot;\n&quot;,&quot;&quot;</span><br><span class="line">            if ($temp -match &quot;---&quot;) &#123;</span><br><span class="line">                $yamlStartEndNum = $yamlStartEndNum + 1;</span><br><span class="line">            &#125;</span><br><span class="line">            if ($readeachline.Contains(&quot;updated:&quot;)) &#123;</span><br><span class="line">                $existUpdated = $true;</span><br><span class="line">                $updatedNum = $lineNum;</span><br><span class="line">            &#125;</span><br><span class="line">            if ($yamlStartEndNum -ge 2) &#123;</span><br><span class="line">                # yaml end</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        $newstreamreader.Dispose();</span><br><span class="line"></span><br><span class="line">        $filedata = Get-Content -Path $filePath -Encoding $fileEncoding;</span><br><span class="line">        $oldYamlStr = $filedata | Select-Object -First $lineNum</span><br><span class="line"></span><br><span class="line">        # git log format: https://www.cnblogs.com/ckAng/p/11205055.html https://git-scm.com/docs/git-log</span><br><span class="line">        # æ­¤æ–‡ä»¶ æœ€åä¸€æ¬¡ commit çš„ Unixæ—¶é—´æˆ³</span><br><span class="line">        $dateUpdated = git log -1 --format=&#x27;%ct&#x27; $filepath</span><br><span class="line">        $dateUpdated = Convert-FromUnixDate $dateUpdated</span><br><span class="line">        $dateUpdated = $dateUpdated.ToString(&quot;yyyy-MM-dd HH:mm:ss&quot;);</span><br><span class="line">        $newUpdated = &quot;updated: &quot; + $dateUpdated;</span><br><span class="line"></span><br><span class="line">        #Write-Host(&quot;newUpdated: &quot; + $newUpdated)</span><br><span class="line"></span><br><span class="line">        $newYamlStr = &quot;&quot;</span><br><span class="line">        # æ³¨æ„: yamlStr æ˜¯ä¸€ä¸ªæ•°ç»„, æ¯ä¸€ä¸ªå…ƒç´ ä¸ºä¸€è¡Œå­—ç¬¦ä¸²</span><br><span class="line">        $tempOldYamlStr = $oldYamlStr;</span><br><span class="line">        if ($existUpdated) &#123;</span><br><span class="line">            #Write-Host($yamlStr[$updatedNum-1])</span><br><span class="line">            $oldUpdated = $oldYamlStr[$updatedNum-1];</span><br><span class="line">            $tempOldYamlStr[$updatedNum-1] = $oldYamlStr[$updatedNum-1] -replace $oldUpdated,$newUpdated</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            # ä¿®æ”¹ yaml ç»“æŸè¡Œ</span><br><span class="line">            # TODO: å¥½åƒå–åˆ°çš„è¿™ä¸€è¡Œä¸åŒ…æ‹¬ æœ€åçš„æ¢è¡Œç¬¦, å¯¼è‡´åŠ ä¸€ä¸ª æ¢è¡Œ åè€Œå¤šäº†, ä¸è¿‡ä¸ºäº†ä¿é™©, è¿˜æ˜¯åŠ ä¸Šä¸€ä¸ªæ¢è¡Œ</span><br><span class="line">            $tempOldYamlStr[$lineNum-1] = $newUpdated + $([System.Environment]::NewLine) + &quot;---&quot; + $([System.Environment]::NewLine)</span><br><span class="line">        &#125;</span><br><span class="line">        $newYamlStr = $tempOldYamlStr</span><br><span class="line"></span><br><span class="line">        Write-Output $newYamlStr</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        $newFiledata = $newYamlStr + $filedata[$lineNum..$filedata.count]</span><br><span class="line">        $newFiledata | Set-Content -Path $filePath -Encoding $fileEncoding</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#Write-Host(&quot;æ›´æ–° updated å®Œæˆ&quot;);</span><br></pre></td></tr></table></figure>
</div></details>
<p>å‡ºå¤„ï¼š<a target="_blank" rel="noopener" href="https://moeci.com/posts/2022/01/powershell-hexo-updated/">yiyunâ€™s Blog - ä½¿ç”¨ PowerShell ä¸€é”®æ›´æ–° Hexo æ–‡ç« çš„ updated</a></p>
<h2 id="ä¿®æ”¹-front-matter-æ¨¡æ¿">ä¿®æ”¹ front-matter æ¨¡æ¿</h2>
<p>é»˜è®¤çš„ <code>front-matter</code> æ¨¡æ¿ä¸­ä¸åŒ…æ‹¬ <code>updated</code> å±æ€§ï¼Œæ‰€ä»¥éœ€è¦ä¿®æ”¹æ¨¡æ¿ä½¿ä»¥åæ–°å»ºçš„æ–‡ç« ä¹ŸåŒ…å« <code>updated</code> å±æ€§ã€‚</p>
<p>æ‰“å¼€ <code>Hexo</code> åšå®¢æ ¹ç›®å½•ä¸‹çš„ <code>/scaffolds/post.md</code> æ–‡ä»¶ï¼Œæ·»åŠ  <code>updated</code> å±æ€§</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> &#123;&#123; <span class="string">title</span> &#125;&#125;</span><br><span class="line"><span class="attr">date:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="comment"># æ·»åŠ  updated å±æ€§</span></span><br><span class="line"><span class="attr">updated:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line">  <span class="bullet">-</span></span><br></pre></td></tr></table></figure>
<p>ä»¥åæ–°å»ºçš„æ–‡ç« å°±ä¼šè‡ªåŠ¨åŒ…å« <code>updated</code> å±æ€§äº†ï¼Œå…¶é»˜è®¤å€¼ä¸ºæ–‡ç« çš„åˆ›å»ºæ—¶é—´ã€‚</p>
<h1>æ–¹æ³•äºŒï¼šä¿®æ”¹ updated_option</h1>
<p><code>updated_option</code> æ§åˆ¶äº†å½“ Front Matter ä¸­æ²¡æœ‰æŒ‡å®š <code>updated</code> æ—¶ï¼Œ<code>updated</code> å¦‚ä½•å–å€¼ï¼š</p>
<ul>
<li><code>mtime</code>: ä½¿ç”¨æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚è¿™æ˜¯ä» Hexo 3.0.0 å¼€å§‹çš„é»˜è®¤è¡Œä¸ºã€‚</li>
<li><code>date</code>: ä½¿ç”¨ <code>date</code> ä½œä¸º <code>updated</code> çš„å€¼ã€‚å¯è¢«ç”¨äº Git å·¥ä½œæµä¹‹ä¸­ï¼Œå› ä¸ºä½¿ç”¨ Git ç®¡ç†ç«™ç‚¹æ—¶ï¼Œæ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¥æœŸå¸¸å¸¸ä¼šå‘ç”Ÿæ”¹å˜</li>
<li><code>empty</code>: ç›´æ¥åˆ é™¤ <code>updated</code>ã€‚ä½¿ç”¨è¿™ä¸€é€‰é¡¹å¯èƒ½ä¼šå¯¼è‡´å¤§éƒ¨åˆ†ä¸»é¢˜å’Œæ’ä»¶æ— æ³•æ­£å¸¸å·¥ä½œã€‚</li>
</ul>
<p><code>use_date_for_updated</code> é€‰é¡¹å·²ç»è¢«åºŸå¼ƒï¼Œå°†ä¼šåœ¨ä¸‹ä¸ªé‡å¤§ç‰ˆæœ¬å‘å¸ƒæ—¶å»é™¤ã€‚è¯·æ”¹ä¸ºä½¿ç”¨ <code>updated_option: 'date'</code>ã€‚</p>
<p>From: <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/configuration#updated_option">hexo.io - é…ç½®</a></p>
<p>åœ¨ Hexo åšå®¢æ ¹ç›®å½•ä¸‹çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­ä¿®æ”¹ <code>updated_option</code> çš„å€¼ä¸º <code>date</code> å³å¯ã€‚</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–‡ç« çš„æ›´æ–°æ—¶é—´</span></span><br><span class="line"><span class="attr">updated_option:</span> <span class="string">date</span></span><br></pre></td></tr></table></figure>
<p>ç„¶è€Œï¼Œè¿™æ ·åšä¼šå¯¼è‡´æ‰€æœ‰æ–‡ç« é»˜è®¤çš„ <code>updated</code> å±æ€§éƒ½å˜æˆäº†æ–‡ç« çš„åˆ›å»ºæ—¶é—´ï¼Œè€Œä¸æ˜¯ä¿®æ”¹æ—¶é—´ï¼Œæ²»æ ‡ä¸æ²»æœ¬ã€‚</p>
<h1>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Github Action éƒ¨ç½²åˆ° Vercel</h1>
<p>æœ¬ç«™ä½¿ç”¨çš„å°±æ˜¯è¿™ç§æ–¹æ³•ï¼Œç”±äºæœ¬ç«™ä½¿ç”¨çš„æ˜¯ Vercel ä½œä¸ºæ‰˜ç®¡å¹³å°ï¼Œæ¯æ¬¡æ¨é€åˆ°ä»“åº“åï¼ŒVercel ä¼šè‡ªåŠ¨æ„å»ºå¹¶éƒ¨ç½²ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åœ¨ Vercel æ„å»ºä¹‹å‰ä½¿æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ä¸æ–‡ç« çš„æ›´æ–°æ—¶é—´ä¸€è‡´ï¼Œè¿™æ · Vercel æ„å»ºåçš„æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´æ‰ä¼šä¸æ–‡ç« çš„æ›´æ–°æ—¶é—´ä¸€è‡´ã€‚</p>
<p>å› ä¸º Vercel ç»‘å®šä»“åº“åï¼Œæ¯æ¬¡æ¨é€ä¼šè‡ªåŠ¨è¿›è¡Œéƒ¨ç½²ï¼Œä¸èƒ½ä¿®æ”¹ Vercel çš„æ„å»ºæµç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ Github ä»“åº“ä¸­æ·»åŠ  Github Actionã€‚</p>
<h2 id="åŸç†">åŸç†</h2>
<p>åœ¨ <a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-theme-next/issues/893">hexo-theme-next issue # 893</a> ä¸­æåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/sli1989">@sli1989</a> æå‡ºäº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼š</p>
<blockquote>
<p>hi, the updated time with CI deployment can be fixed using this. please check Continuous Integration configurations carefully.</p>
</blockquote>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Restore last modified time</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">&quot;git ls-files -z | while read -d &#x27;&#x27; path; do touch -d \&quot;$(git log -1 --format=\&quot;@%ct\&quot; \&quot;$path\&quot;)\&quot; \&quot;$path\&quot;; done&quot;</span></span><br></pre></td></tr></table></figure>
<p>è¯¥æ¡å‘½ä»¤ä¼šå°†æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ä¿®æ”¹ä¸º Git ä»“åº“ä¸­æ–‡ä»¶çš„æœ€åæäº¤æ—¶é—´ï¼Œå³æ–‡ç« çš„æ›´æ–°æ—¶é—´ã€‚</p>
<p>åŒæ ·ä½¿ç”¨ <code>find</code> å‘½ä»¤ä¹Ÿå¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">BASH</span><br><span class="line">find source/_posts -name &#x27;*.md&#x27; | while read file; do touch -d &quot;$(git log -1 --format=&quot;@%ct&quot; &quot;$file&quot;)&quot; &quot;$file&quot;; done</span><br></pre></td></tr></table></figure>
<h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2>
<p>é¦–å…ˆï¼Œå°† <code>Vercel é¡¹ç›®</code> ä¸ <code>Github ä»“åº“</code> çš„ç»‘å®šå…³ç³»è§£é™¤ï¼Œå› ä¸ºæˆ‘ä»¬å°†è¦åœ¨ Github Action ä¸­æ‰‹åŠ¨éƒ¨ç½²åˆ° Vercel ä¸­ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/202302120235219.png" alt="img"></p>
<details class="toggle" ><summary class="toggle-button" style="">ä¸æƒ³è§£é™¤ä»“åº“ç»‘å®šï¼ŸæŸ¥çœ‹å…³é—­è‡ªåŠ¨éƒ¨ç½²æ•™ç¨‹</summary><div class="toggle-content"><p>åœ¨ <a target="_blank" rel="noopener" href="https://vercel.com/docs/concepts/projects/project-configuration/git-configuration#git.deploymentenabled">Git Configuration | Vercel Docs</a> ä¸­æåˆ°ï¼š</p>
<p>git.deploymentEnabled</p>
<p>Type: <code>Object</code> of key branch identifier <code>String</code> and value <code>Boolean</code>, or <code>Boolean</code>.</p>
<p>Specify the branches that will not trigger an auto-deployment when committing to them. Any non specified branch is <code>true</code> by default.</p>
<p>Propertyâ€™s default value is <code>true</code>. In case you want to turn auto-deployments off for every branch, property value must be set to <code>false</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;git&quot;: &#123;</span><br><span class="line">    &quot;deploymentEnabled&quot;: &#123;</span><br><span class="line">      &quot;main&quot;: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨åšå®¢æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª <code>vercel.json</code> æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;git&quot;: &#123;</span><br><span class="line">    &quot;deploymentEnabled&quot;: &#123;</span><br><span class="line">      &quot;main&quot;: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ · Vercel å°±ä¸ä¼šåœ¨ Github ä»“åº“æ›´æ–°æ—¶è‡ªåŠ¨éƒ¨ç½²äº†ã€‚</p>
</div></details>
<p>åœ¨ Github Action ä¸­éœ€è¦ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªç¯å¢ƒå˜é‡ã€ä¸€ä¸ªç§˜é’¥ï¼š</p>
<ul>
<li>VERCEL_ORG_ID</li>
<li>VERCEL_PROJECT_ID</li>
<li>VERCEL_TOKEN</li>
</ul>
<h2 id="è·å–-Vercel-Access-Token">è·å– Vercel Access Token</h2>
<p>æˆ‘ä»¬éœ€è¦åœ¨ Vercel ä¸­è·å–ä¸€æ®µ <a target="_blank" rel="noopener" href="https://vercel.com/guides/how-do-i-use-a-vercel-api-access-token">Vercel Access Token</a> ç”¨äº Github Action éƒ¨ç½²åˆ° Vercelã€‚<a target="_blank" rel="noopener" href="https://vercel.com/account/tokens">å¿«é€Ÿå‰å¾€ Access Token é¡µé¢</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/202302120232608.png" alt="img"></p>
<h2 id="è·å–-VERCEL-ORG-ID-å’Œ-VERCEL-PROJECT-ID">è·å– VERCEL_ORG_ID å’Œ VERCEL_PROJECT_ID</h2>
<p>åœ¨æœ¬åœ°å®‰è£… <a target="_blank" rel="noopener" href="https://vercel.com/docs/cli">Vercel CLI</a> åï¼Œä½¿ç”¨ <code>vercel login</code> ç™»å½• Vercel</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm</span></span><br><span class="line">npm i -g vercel</span><br><span class="line"></span><br><span class="line"><span class="comment"># yarn</span></span><br><span class="line">yarn global add vercel</span><br></pre></td></tr></table></figure>
<p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ‰§è¡Œ <code>vercel link</code>ï¼Œåˆ›å»ºä¸€ä¸ª Vercel é¡¹ç›®ï¼Œæ­¤æ“ä½œä¼šåœ¨åšå®¢æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª <code>.vercel</code> æ–‡ä»¶å¤¹ï¼Œ<code>.vercel/project.json</code> é‡Œé¢åŒ…å«äº† <code>VERCEL_ORG_ID</code> å’Œ <code>VERCEL_PROJECT_ID</code>ã€‚</p>
<h2 id="åœ¨-Github-ä»“åº“ä¸­æ·»åŠ -secrets">åœ¨ Github ä»“åº“ä¸­æ·»åŠ  secrets</h2>
<p>åœ¨ Github ä»“åº“ä¸­çš„ <code>Settings</code> -&gt; <code>Secrets and Variables</code> -&gt; <code>Actions</code> ä¸­æ·»åŠ ä»¥ä¸‹ç§˜é’¥å’Œç¯å¢ƒå˜é‡ï¼š</p>
<ul>
<li>VERCEL_TOKEN</li>
<li>VERCEL_ORG_ID</li>
<li>VERCEL_PROJECT_ID</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/202302120252189.png" alt="img"></p>
<h2 id="åˆ›å»º-Github-Action">åˆ›å»º Github Action</h2>
<p>åœ¨ Github ä»“åº“ä¸­åˆ›å»ºä¸€ä¸ªåä¸º <code>.github/workflows/deploy.yml</code> çš„æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Blog</span> <span class="string">to</span> <span class="string">Vercel</span> <span class="string">Production</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="attr">VERCEL_ORG_ID:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.VERCEL_ORG_ID</span> <span class="string">&#125;&#125;</span></span><br><span class="line">  <span class="attr">VERCEL_PROJECT_ID:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.VERCEL_PROJECT_ID</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build-and-deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">persist-credentials:</span> <span class="literal">false</span></span><br><span class="line">          <span class="comment"># 0 indicates all history for all branches and tags.</span></span><br><span class="line">          <span class="attr">fetch-depth:</span> <span class="number">0</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Restore</span> <span class="string">file</span> <span class="string">modification</span> <span class="string">time</span> <span class="string">ğŸ•’</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">find</span> <span class="string">source/_posts</span> <span class="string">-name</span> <span class="string">&#x27;*.md&#x27;</span> <span class="string">|</span> <span class="string">while</span> <span class="string">read</span> <span class="string">file;</span> <span class="string">do</span> <span class="string">touch</span> <span class="string">-d</span> <span class="string">&quot;$(git log -1 --format=&quot;</span><span class="string">@%ct&quot;</span> <span class="string">&quot;$file&quot;</span><span class="string">)&quot;</span> <span class="string">&quot;$file&quot;</span><span class="string">;</span> <span class="string">done</span></span><br><span class="line">        <span class="comment"># run: &quot;git ls-files -z | while read -d &#x27;&#x27; path; do touch -d \&quot;$(git log -1 --format=\&quot;@%ct\&quot; \&quot;$path\&quot;)\&quot; \&quot;$path\&quot;; done&quot;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Vercel-cliğŸ”§</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">--global</span> <span class="string">vercel@latest</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Pull</span> <span class="string">Vercel</span> <span class="string">Environment</span> <span class="string">Information</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">vercel</span> <span class="string">pull</span> <span class="string">--yes</span> <span class="string">--environment=production</span> <span class="string">--token=$&#123;&#123;</span> <span class="string">secrets.VERCEL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Build</span> <span class="string">Project</span> <span class="string">Artifacts</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">vercel</span> <span class="string">build</span> <span class="string">--prod</span> <span class="string">--token=$&#123;&#123;</span> <span class="string">secrets.VERCEL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Project</span> <span class="string">Artifacts</span> <span class="string">to</span> <span class="string">Vercel</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">vercel</span> <span class="string">deploy</span> <span class="string">--prebuilt</span> <span class="string">--prod</span> <span class="string">--token=$&#123;&#123;</span> <span class="string">secrets.VERCEL_TOKEN</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„</p>
<p>å¦‚æœ <code>github actions</code> ä¸­ä½¿ç”¨ <code>actions/checkout@v2</code>ï¼Œè¯·è®¾å®šå®ƒçš„å‚æ•° <code>fetch-depth: 0</code>ï¼Œå› ä¸º <code>0</code> è¡¨ç¤ºè·å–æ‰€æœ‰åˆ†æ”¯å’Œæ ‡ç­¾çš„æ‰€æœ‰å†å²è®°å½•ã€‚é»˜è®¤å€¼ä¸º <code>1</code></p>
<h2 id="æ¨é€ä»£ç åˆ°-Github">æ¨é€ä»£ç åˆ° Github</h2>
<p>åœ¨æœ¬åœ°æ‰§è¡Œ <code>git push</code> æ¨é€ä»£ç åˆ° Githubï¼ŒGithub Action ä¼šè‡ªåŠ¨éƒ¨ç½²åˆ° Vercelã€‚</p>
<h1>æ–¹æ³•ä¸‰ï¼ˆGithub Pageç‰ˆï¼‰ï¼šä½¿ç”¨ Github Action éƒ¨ç½²åˆ° Github Page</h1>
<p>å¦‚æœä½ çš„åšå®¢æºæ–‡ä»¶æ‰˜ç®¡åœ¨ Github ä¸Šï¼Œä¸”ä½¿ç”¨ Github Action éƒ¨ç½²åˆ° Github Pageï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ä½ çš„éƒ¨ç½² Action ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Restore</span> <span class="string">file</span> <span class="string">modification</span> <span class="string">time</span> <span class="string">ğŸ•’</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">find</span> <span class="string">source/_posts</span> <span class="string">-name</span> <span class="string">&#x27;*.md&#x27;</span> <span class="string">|</span> <span class="string">while</span> <span class="string">read</span> <span class="string">file;</span> <span class="string">do</span> <span class="string">touch</span> <span class="string">-d</span> <span class="string">&quot;$(git log -1 --format=&quot;</span><span class="string">@%ct&quot;</span> <span class="string">&quot;$file&quot;</span><span class="string">)&quot;</span> <span class="string">&quot;$file&quot;</span><span class="string">;</span> <span class="string">done</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä½™æ­¥éª¤ä¸ <code>æ–¹æ³•ä¸‰ -&gt; åˆ›å»º Github Action</code> ä¸­ä¸€è‡´ï¼Œåªæ˜¯éƒ¨ç½²æ–¹å¼ä¸åŒã€‚</p>
<h2 id="ä¾‹å­">ä¾‹å­</h2>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Github Action éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯çš„ä¾‹å­ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">deploy</span> <span class="string">blog</span> <span class="string">to</span> <span class="string">github</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build-and-deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">ğŸ›ï¸</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">persist-credentials:</span> <span class="literal">false</span></span><br><span class="line">          <span class="comment"># 0 indicates all history for all branches and tags.</span></span><br><span class="line">          <span class="attr">fetch-depth:</span> <span class="number">0</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Restore</span> <span class="string">file</span> <span class="string">modification</span> <span class="string">time</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">find</span> <span class="string">source</span> <span class="string">-name</span> <span class="string">&#x27;*.md&#x27;</span> <span class="string">|</span> <span class="string">while</span> <span class="string">read</span> <span class="string">file;</span> <span class="string">do</span> <span class="string">touch</span> <span class="string">-d</span> <span class="string">&quot;$(git log -1 --format=&quot;</span><span class="string">@%ct&quot;</span> <span class="string">&quot;$file&quot;</span><span class="string">)&quot;</span> <span class="string">&quot;$file&quot;</span><span class="string">;</span> <span class="string">done</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">and</span> <span class="string">Build</span> <span class="string">ğŸ”§</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          npm install</span></span><br><span class="line"><span class="string">          npm run build</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">ğŸš€</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">JamesIves/github-pages-deploy-action@3.7.1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">ACCESS_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.DEPLOY_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">BRANCH:</span> <span class="string">gh-pages</span> <span class="comment"># The branch the action should deploy to.</span></span><br><span class="line">          <span class="attr">FOLDER:</span> <span class="string">public</span> <span class="comment"># The folder the action should deploy.</span></span><br><span class="line">          <span class="attr">CLEAN:</span> <span class="literal">true</span> <span class="comment"># Automatically remove deleted files from the deploy branch</span></span><br></pre></td></tr></table></figure>
<p>ä¸è¦å¿˜äº†åœ¨ secrets ä¸­æ·»åŠ  <code>DEPLOY_TOKEN</code> ç§˜é’¥</p>
<h1>å‚è€ƒé“¾æ¥</h1>
<p>é™¤äº†æ–‡ä¸­ç›´æ¥å¼•ç”¨çš„é“¾æ¥å‡ºå¤„ï¼Œè¿˜æœ‰ä»¥ä¸‹ä½œä¸ºå‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://devpress.csdn.net/cicd/62ed9b157e66823466181357.html">ä½¿ç”¨ GitHub Actions and Releases å°†æ‚¨çš„ç«™ç‚¹éƒ¨ç½²åˆ° Vercel</a></p>
<p><a target="_blank" rel="noopener" href="https://mrseawave.github.io/blogs/articles/2021/01/07/ci-hexo-update-time/">ä¿®å¤ CI æ„å»ºåšå®¢é€ æˆçš„æ›´æ–°æ—¶é—´é”™è¯¯</a></p>
<p><a target="_blank" rel="noopener" href="https://vercel.com/guides/how-can-i-use-github-actions-with-vercel">How can I use GitHub Actions with Vercel? - Vercel Docs</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/vercel/examples/blob/main/ci-cd/github-actions/.github/workflows/production.yaml">examples/production.yaml at main - vercel/examples</a></p>
<p>å¤´å›¾/å°é¢ç´ ææ›´æ”¹äº <a target="_blank" rel="noopener" href="https://unsplash.com/it/@rayhennessy?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Ray Hennessy</a> on <a target="_blank" rel="noopener" href="https://unsplash.com/images/animals/fox?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/IT-issues/">IT-issues</a><a class="post-meta__tags" href="/tags/hexo/">hexo</a><a class="post-meta__tags" href="/tags/Vercel/">Vercel</a><a class="post-meta__tags" href="/tags/github-actions/">github actions</a><a class="post-meta__tags" href="/tags/timestamp/">timestamp</a><a class="post-meta__tags" href="/tags/update-time/">update time</a><a class="post-meta__tags" href="/tags/git/">git</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240111104821876.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>èµåŠ©</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/wechat.jpg" alt="Wechat"/></a><div class="post-qr-code-desc">Wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/alipay.jpg" alt="Alipay"/></a><div class="post-qr-code-desc">Alipay</div></li><li class="reward-item"><a href="/paypal.me/spritenee" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/paypal.png" alt="Paypal"/></a><div class="post-qr-code-desc">Paypal</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/bd4fc289.html" title="å‘onedriveå‘é€æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶çš„é“¾æ¥å®ç°åŒæ­¥"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240111100802162.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">å‘onedriveå‘é€æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶çš„é“¾æ¥å®ç°åŒæ­¥</div></div></a></div><div class="next-post pull-right"><a href="/posts/2982332b.html" title="é¬¼è°·å°ç¥â€”â€”æœ€ç‰›é€¼çš„è€å¸ˆ"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240112115508053.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">é¬¼è°·å°ç¥â€”â€”æœ€ç‰›é€¼çš„è€å¸ˆ</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/posts/7fd4e952.html" title="Github Actionsä½¿ç”¨æ•™ç¨‹"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240108143213015.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-30</div><div class="title">Github Actionsä½¿ç”¨æ•™ç¨‹</div></div></a></div><div><a href="/posts/89f1eb4d.html" title="Hexoç”Ÿæˆç½‘ç«™è‡ªå®šä¹‰cssæ ·å¼çš„è®¾ç½®ä½ç½®å’Œé€‰æ‹©å™¨(selector)åº”ç”¨"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240130075346702.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-30</div><div class="title">Hexoç”Ÿæˆç½‘ç«™è‡ªå®šä¹‰cssæ ·å¼çš„è®¾ç½®ä½ç½®å’Œé€‰æ‹©å™¨(selector)åº”ç”¨</div></div></a></div><div><a href="/posts/2ea56ed.html" title="Hexoé‡‡ç”¨Walineè¯„è®ºç³»ç»Ÿrecent commentsæœ€è¿‘è¯„è®ºä¸æ˜¾ç¤º"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202312/image-20231217160841224.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-17</div><div class="title">Hexoé‡‡ç”¨Walineè¯„è®ºç³»ç»Ÿrecent commentsæœ€è¿‘è¯„è®ºä¸æ˜¾ç¤º</div></div></a></div><div><a href="/posts/8ed2456e.html" title="AbbyFinereaderè¯†åˆ«çš„æ–‡å­—éƒ½å˜æˆæ–¹æ¡†ï¼ˆå³ä½¿æ‰‹åŠ¨è¾“å…¥äº¦å¦‚æ­¤ï¼‰çš„åŸå› å’Œè§£å†³æ–¹æ³•"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202501/image-20250308222701243.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-08</div><div class="title">AbbyFinereaderè¯†åˆ«çš„æ–‡å­—éƒ½å˜æˆæ–¹æ¡†ï¼ˆå³ä½¿æ‰‹åŠ¨è¾“å…¥äº¦å¦‚æ­¤ï¼‰çš„åŸå› å’Œè§£å†³æ–¹æ³•</div></div></a></div><div><a href="/posts/5d0776d5.html" title="Add to the PATH on Windows 10 and Windows 11"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202401/image-20240127074357404.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-27</div><div class="title">Add to the PATH on Windows 10 and Windows 11</div></div></a></div><div><a href="/posts/e7a898a7.html" title="ChatTTSå®‰è£…ä½¿ç”¨è¿‡ç¨‹ä¸­CUDA&#x2F;Pytorch&#x2F;Cudnn&#x2F;VisualStudioç­‰ç›¸å…³ç–‘éš¾çš„è§£å†³"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202406/image-20240625130250230.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-25</div><div class="title">ChatTTSå®‰è£…ä½¿ç”¨è¿‡ç¨‹ä¸­CUDA&#x2F;Pytorch&#x2F;Cudnn&#x2F;VisualStudioç­‰ç›¸å…³ç–‘éš¾çš„è§£å†³</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div><div class="comment-switch"><span class="first-comment">Waline</span><span id="switch-btn"></span><span class="second-comment">Giscus</span></div></div><div class="comment-wrap"><div><div id="waline-wrap"></div></div><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">AI-China</div><div class="author-info__description">Something about China</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">202</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">343</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:spritenee@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://youtube.com/spritenee" target="_blank" title="Youtube"><i class="fa-brands fa-youtube" style="color: #f70808;"></i></a><a class="social-icon" href="https://weibo.com/u/1911422681" target="_blank" title="Weibo"><i class="fa-brands fa-weibo" style="color: #8e2525;"></i></a><a class="social-icon" href="https://facebook.com/spritenee" target="_blank" title="Facebook"><i class="fa-brands fa-facebook" style="color: #1f64db;"></i></a><a class="social-icon" href="https://twitter.com/spritenee" target="_blank" title="Twitter"><i class="fa-brands fa-twitter" style="color: #0b62f9;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Welcome!</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">æ–¹æ³•ä¸€ï¼šä½¿ç”¨ updated å±æ€§</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-PowerShell-%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0%E6%89%80%E6%9C%89%E6%96%87%E7%AB%A0%E7%9A%84-updated-%E5%B1%9E%E6%80%A7"><span class="toc-number">1.1.</span> <span class="toc-text">ä½¿ç”¨ PowerShell è„šæœ¬è‡ªåŠ¨æ›´æ–°æ‰€æœ‰æ–‡ç« çš„ updated å±æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-front-matter-%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.2.</span> <span class="toc-text">ä¿®æ”¹ front-matter æ¨¡æ¿</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">æ–¹æ³•äºŒï¼šä¿®æ”¹ updated_option</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ Github Action éƒ¨ç½²åˆ° Vercel</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E7%90%86"><span class="toc-number">3.1.</span> <span class="toc-text">åŸç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">3.2.</span> <span class="toc-text">å‡†å¤‡å·¥ä½œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96-Vercel-Access-Token"><span class="toc-number">3.3.</span> <span class="toc-text">è·å– Vercel Access Token</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96-VERCEL-ORG-ID-%E5%92%8C-VERCEL-PROJECT-ID"><span class="toc-number">3.4.</span> <span class="toc-text">è·å– VERCEL_ORG_ID å’Œ VERCEL_PROJECT_ID</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8-Github-%E4%BB%93%E5%BA%93%E4%B8%AD%E6%B7%BB%E5%8A%A0-secrets"><span class="toc-number">3.5.</span> <span class="toc-text">åœ¨ Github ä»“åº“ä¸­æ·»åŠ  secrets</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Github-Action"><span class="toc-number">3.6.</span> <span class="toc-text">åˆ›å»º Github Action</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A8%E9%80%81%E4%BB%A3%E7%A0%81%E5%88%B0-Github"><span class="toc-number">3.7.</span> <span class="toc-text">æ¨é€ä»£ç åˆ° Github</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">æ–¹æ³•ä¸‰ï¼ˆGithub Pageç‰ˆï¼‰ï¼šä½¿ç”¨ Github Action éƒ¨ç½²åˆ° Github Page</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">4.1.</span> <span class="toc-text">ä¾‹å­</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">å‚è€ƒé“¾æ¥</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/61eeaf34.html" title="å…³äºæ‰¹é‡æ›¿æ¢epubæ–‡ä»¶ä¸­å›¾ç‰‡çš„å°è¯•"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202510/image-20251023073648545.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="å…³äºæ‰¹é‡æ›¿æ¢epubæ–‡ä»¶ä¸­å›¾ç‰‡çš„å°è¯•"/></a><div class="content"><a class="title" href="/posts/61eeaf34.html" title="å…³äºæ‰¹é‡æ›¿æ¢epubæ–‡ä»¶ä¸­å›¾ç‰‡çš„å°è¯•">å…³äºæ‰¹é‡æ›¿æ¢epubæ–‡ä»¶ä¸­å›¾ç‰‡çš„å°è¯•</a><time datetime="2025-10-23T07:03:48.000Z" title="Created 2025-10-23 07:03:48">2025-10-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/4d697bdd.html" title="IDM(Dç‰ˆ)é¢‘ç¹å¼¹çª—æ–‡ä»¶æŸåå¹¶å¼¹å‡ºå®˜æ–¹ç½‘é¡µçš„è§£å†³æ–¹æ³•"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202509/image-20250927104709612.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IDM(Dç‰ˆ)é¢‘ç¹å¼¹çª—æ–‡ä»¶æŸåå¹¶å¼¹å‡ºå®˜æ–¹ç½‘é¡µçš„è§£å†³æ–¹æ³•"/></a><div class="content"><a class="title" href="/posts/4d697bdd.html" title="IDM(Dç‰ˆ)é¢‘ç¹å¼¹çª—æ–‡ä»¶æŸåå¹¶å¼¹å‡ºå®˜æ–¹ç½‘é¡µçš„è§£å†³æ–¹æ³•">IDM(Dç‰ˆ)é¢‘ç¹å¼¹çª—æ–‡ä»¶æŸåå¹¶å¼¹å‡ºå®˜æ–¹ç½‘é¡µçš„è§£å†³æ–¹æ³•</a><time datetime="2025-09-27T10:37:42.000Z" title="Created 2025-09-27 10:37:42">2025-09-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/20404fae.html" title="ä¸‹è½½redditè‡ªæœ‰è§†é¢‘çš„CCå­—å¹•"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202505/image-20250510201017801.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ä¸‹è½½redditè‡ªæœ‰è§†é¢‘çš„CCå­—å¹•"/></a><div class="content"><a class="title" href="/posts/20404fae.html" title="ä¸‹è½½redditè‡ªæœ‰è§†é¢‘çš„CCå­—å¹•">ä¸‹è½½redditè‡ªæœ‰è§†é¢‘çš„CCå­—å¹•</a><time datetime="2025-05-10T20:02:05.000Z" title="Created 2025-05-10 20:02:05">2025-05-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/d23f92cd.html" title="FFmpegå¸¸ç”¨å‘½ä»¤å‚æ•°è§£æ">FFmpegå¸¸ç”¨å‘½ä»¤å‚æ•°è§£æ</a><time datetime="2025-05-08T20:52:00.000Z" title="Created 2025-05-08 20:52:00">2025-05-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/213ce1de.html" title="digitalplatå¹³å°ç”³è¯·äº†å‡ ä¸ªå…è´¹åŸŸåä½†æš‚æ—¶è¿˜ä¸èƒ½æ‰˜ç®¡åˆ°Cloudflareçš„è§£å†³åŠæ³•"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/spritenee/images@main/Pico/202505/image-20250508103147758.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="digitalplatå¹³å°ç”³è¯·äº†å‡ ä¸ªå…è´¹åŸŸåä½†æš‚æ—¶è¿˜ä¸èƒ½æ‰˜ç®¡åˆ°Cloudflareçš„è§£å†³åŠæ³•"/></a><div class="content"><a class="title" href="/posts/213ce1de.html" title="digitalplatå¹³å°ç”³è¯·äº†å‡ ä¸ªå…è´¹åŸŸåä½†æš‚æ—¶è¿˜ä¸èƒ½æ‰˜ç®¡åˆ°Cloudflareçš„è§£å†³åŠæ³•">digitalplatå¹³å°ç”³è¯·äº†å‡ ä¸ªå…è´¹åŸŸåä½†æš‚æ—¶è¿˜ä¸èƒ½æ‰˜ç®¡åˆ°Cloudflareçš„è§£å†³åŠæ³•</a><time datetime="2025-05-08T09:53:39.000Z" title="Created 2025-05-08 09:53:39">2025-05-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By AI-China</div><div class="footer_custom_text">Hi, everyone. Just ask me something!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addGlobalFn('themeChange', runMermaid, 'mermaid')

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>(() => {
  const initWaline = () => {
    const waline = Waline.init(Object.assign({
      el: '#waline-wrap',
      serverURL: 'https://waline.ai-china.xyz',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      path: window.location.pathname,
      comment: false,
    }, null))

    const destroyWaline = () => {
      waline.destroy()
    }

    btf.addGlobalFn('pjax', destroyWaline, 'destroyWaline')

  }

  const loadWaline = async () => {
    if (typeof Waline === 'object') initWaline()
    else {
      await getCSS('https://cdn.jsdelivr.net/npm/@waline/client@3.0.0-alpha.10/dist/waline.min.css')
      await getScript('https://cdn.jsdelivr.net/npm/@waline/client@3.0.0-alpha.10/dist/waline.umd.min.js')
      initWaline()
    }
  }

  if ('Waline' === 'Waline' || !false) {
    if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script><script>(()=>{
  const getGiscusTheme = theme => {
    return theme === 'dark' ? 'dark' : 'light'
  }

  const loadGiscus = () => {
    const config = Object.assign({
      src: 'https://giscus.app/client.js',
      'data-repo': 'spritenee/Giscus',
      'data-repo-id': 'R_kgDOKmHsUg',
      'data-category-id': 'DIC_kwDOKmHsUs4Cagfw',
      'data-mapping': 'pathname',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true
    },null)

    const ele = document.createElement('script')
    for (let key in config) {
      ele.setAttribute(key, config[key])
    }
    document.getElementById('giscus-wrap').appendChild(ele)
  }

  const changeGiscusTheme = theme => {
    const sendMessage = message => {
      const iframe = document.querySelector('iframe.giscus-frame')
      if (!iframe) return
      iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
    }

    sendMessage({
      setConfig: {
        theme: getGiscusTheme(theme)
      }
    });
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if ('Waline' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment= loadGiscus
  }
})()</script></div><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div><!--åœ¨æ­¤æ·»åŠ ä½ çš„javascriptæ–‡ä»¶ï¼š--><script src="/self/js/algoliasearch.js"></script></body></html>